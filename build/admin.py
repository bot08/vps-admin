#!/usr/bin/env python3
import http.server, socketserver
import subprocess, json, base64, os, sys, re

PORT = 4321

HTML_PAGE = r"""
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path d='M11,13a1,1,0,1,0,1,1A1,1,0,0,0,11,13ZM7,13a1,1,0,1,0,1,1A1,1,0,0,0,7,13ZM22,4a3,3,0,0,0-3-3H5A3,3,0,0,0,2,4V8a3,3,0,0,0,.78,2A3,3,0,0,0,2,12v4a3,3,0,0,0,3,3h6v2H3a1,1,0,0,0,0,2H21a1,1,0,0,0,0-2H13V19h6a3,3,0,0,0,3-3V12a3,3,0,0,0-.78-2A3,3,0,0,0,22,8ZM20,16a1,1,0,0,1-1,1H5a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1H19a1,1,0,0,1,1,1Zm0-8a1,1,0,0,1-1,1H5A1,1,0,0,1,4,8V4A1,1,0,0,1,5,3H19a1,1,0,0,1,1,1ZM11,5a1,1,0,1,0,1,1A1,1,0,0,0,11,5ZM7,5A1,1,0,1,0,8,6,1,1,0,0,0,7,5Z' fill='%236563ff'/></svg>" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin server panel</title>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function On(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const V={},Ts=[],$s=()=>!0,ae=()=>!1,me=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),hn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ke=Object.assign,Ps=Object.prototype.hasOwnProperty,M=(t,e)=>Ps.call(t,e),m=Array.isArray,Ut=t=>be(t)==="[object Map]",Cs=t=>be(t)==="[object Set]",$=t=>typeof t=="function",j=t=>typeof t=="string",Ct=t=>typeof t=="symbol",X=t=>t!==null&&typeof t=="object",Rn=t=>(X(t)||$(t))&&$(t.then)&&$(t.catch),In=Object.prototype.toString,be=t=>In.call(t),Es=t=>be(t).slice(8,-1),Os=t=>be(t)==="[object Object]",tn=t=>j(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Rs=On(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ye=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Is=/-(\w)/g,Ms=(t,e)=>e?e.toUpperCase():"",K=ye(t=>t.replace(Is,Ms)),Ds=/\B([A-Z])/g,Xt=ye(t=>t.replace(Ds,"-$1").toLowerCase()),Se=ye(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ie=ye(t=>t?`on${Se(t)}`:""),Ls=t=>`${t==="modelValue"||t==="model-value"?"model":t}Modifiers${t==="model"?"$":""}`,Tt=(t,e)=>!Object.is(t,e),de=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ns=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},js=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let gn;const Mn=()=>gn||(gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Hs(t){return t!=="PROGRESS"&&!t.includes("-")}function we(t){if(m(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=j(s)?Dn(s):we(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(j(t)||X(t))return t}const Fs=/;(?![^(]*\))/g,Ks=/:([^]+)/,Vs=/\/\*[^]*?\*\//g;function Dn(t){const e={};return t.replace(Vs,"").split(Fs).forEach(n=>{if(n){const s=n.split(Ks);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function xe(t){let e="";if(j(t))e=t;else if(m(t))for(let n=0;n<t.length;n++){const s=xe(t[n]);s&&(e+=s+" ")}else if(X(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Bs(t){return!!t||t===""}function Us(t,e){return e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t==="INPUT"||e==="type"&&t==="TEXTAREA"||(e==="width"||e==="height")&&(t==="IMG"||t==="VIDEO"||t==="CANVAS"||t==="SOURCE")||e==="sandbox"&&t==="IFRAME"}const Ln=t=>!!(t&&t.__v_isRef===!0),G=t=>{switch(typeof t){case"string":return t;case"object":if(t){if(Ln(t))return G(t.value);if(m(t)||t.toString===In||!$(t.toString))return JSON.stringify(t,Nn,2)}default:return t==null?"":String(t)}},Nn=(t,e)=>Ln(e)?Nn(t,e.value):Ut(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Me(s,r)+" =>"]=i,n),{})}:Cs(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Me(n))}:Ct(e)?Me(e):X(e)&&!m(e)&&!Os(e)?String(e):e,Me=(t,e="")=>{var n;return Ct(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};var b=(t=>(t[t.None=0]="None",t[t.Mutable=1]="Mutable",t[t.Watching=2]="Watching",t[t.RecursedCheck=4]="RecursedCheck",t[t.Recursed=8]="Recursed",t[t.Dirty=16]="Dirty",t[t.Pending=32]="Pending",t))(b||{});const Be=[];let en=0,U,oe=0,ee=0,pe=0;function D(t){try{return U}finally{U=t}}function jn(){++en}function Hn(){!--en&&pe&&Bn()}function Nt(t,e){const n=e.depsTail;if(n!==void 0&&n.dep===t)return;const s=n!==void 0?n.nextDep:e.deps;if(s!==void 0&&s.dep===t){s.version=oe,e.depsTail=s;return}const i=t.subsTail;if(i!==void 0&&i.version===oe&&i.sub===e)return;const r=e.depsTail=t.subsTail={version:oe,dep:t,sub:e,prevDep:n,nextDep:s,prevSub:i,nextSub:void 0};s!==void 0&&(s.prevDep=r),n!==void 0?n.nextDep=r:e.deps=r,i!==void 0?i.nextSub=r:t.subs=r}function jt(t,e=t.sub){const n=t.dep,s=t.prevDep,i=t.nextDep,r=t.nextSub,o=t.prevSub;if(i!==void 0?i.prevDep=s:e.depsTail=s,s!==void 0?s.nextDep=i:e.deps=i,r!==void 0?r.prevSub=o:n.subsTail=o,o!==void 0)o.nextSub=r;else if((n.subs=r)===void 0){let c=n.deps;if(c!==void 0){do c=jt(c,n);while(c!==void 0);n.flags|=16}}return i}function Fn(t){let e=t.nextSub,n;t:do{const s=t.sub;let i=s.flags;if(i&3&&(i&60?i&12?i&4?!(i&48)&&zs(t,s)?(s.flags=i|8|32,i&=1):i=0:s.flags=i&-9|32:i=0:s.flags=i|32,i&2&&(Be[pe++]=s),i&1)){const r=s.subs;if(r!==void 0){t=r,r.nextSub!==void 0&&(n={value:e,prev:n},e=t.nextSub);continue}}if((t=e)!==void 0){e=t.nextSub;continue}for(;n!==void 0;)if(t=n.value,n=n.prev,t!==void 0){e=t.nextSub;continue t}break}while(!0)}function Kn(t){return++oe,t.depsTail=void 0,t.flags=t.flags&-57|4,D(t)}function Vn(t,e){U=e;const n=t.depsTail;let s=n!==void 0?n.nextDep:t.deps;for(;s!==void 0;)s=jt(s,t);t.flags&=-5}function Bn(){for(;ee<pe;){const t=Be[ee];Be[ee++]=void 0,t.notify()}ee=0,pe=0}function Ue(t,e){let n,s=0;t:do{const i=t.dep,r=i.flags;let o=!1;if(e.flags&16)o=!0;else if((r&17)===17){if(i.update()){const c=i.subs;c.nextSub!==void 0&&Yt(c),o=!0}}else if((r&33)===33){(t.nextSub!==void 0||t.prevSub!==void 0)&&(n={value:t,prev:n}),t=i.deps,e=i,++s;continue}if(!o&&t.nextDep!==void 0){t=t.nextDep;continue}for(;s;){--s;const c=e.subs,f=c.nextSub!==void 0;if(f?(t=n.value,n=n.prev):t=c,o){if(e.update()){f&&Yt(c),e=t.sub;continue}}else e.flags&=-33;if(e=t.sub,t.nextDep!==void 0){t=t.nextDep;continue t}o=!1}return o}while(!0)}function Yt(t){do{const e=t.sub,n=t.nextSub,s=e.flags;(s&48)===32&&(e.flags=s|16),t=n}while(t!==void 0)}function zs(t,e){let n=e.depsTail;for(;n!==void 0;){if(n===t)return!0;n=n.prevDep}return!1}class Ws{constructor(e,n){this.map=e,this.key=n,this._subs=void 0,this.subsTail=void 0,this.flags=b.None}get subs(){return this._subs}set subs(e){this._subs=e,e===void 0&&this.map.delete(this.key)}}const ze=new WeakMap,$t=Symbol(""),We=Symbol(""),qt=Symbol("");function H(t,e,n){if(U!==void 0){let s=ze.get(t);s||ze.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=new Ws(s,n)),Nt(i,U)}}function ht(t,e,n,s,i,r){const o=ze.get(t);if(!o)return;const c=f=>{f!==void 0&&f.subs!==void 0&&(Fn(f.subs),Yt(f.subs))};if(jn(),e==="clear")o.forEach(c);else{const f=m(t),u=f&&tn(n);if(f&&n==="length"){const d=Number(s);o.forEach((l,a)=>{(a==="length"||a===qt||!Ct(a)&&a>=d)&&c(l)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),u&&c(o.get(qt)),e){case"add":f?u&&c(o.get("length")):(c(o.get($t)),Ut(t)&&c(o.get(We)));break;case"delete":f||(c(o.get($t)),Ut(t)&&c(o.get(We)));break;case"set":Ut(t)&&c(o.get($t));break}}Hn()}function Rt(t){const e=S(t);return e===t?e:(H(e,"iterate",qt),ft(t)?e:e.map(tt))}function Ae(t){return H(t=S(t),"iterate",qt),t}function dt(t,e){return ct(t)?nn(t)?Ht(tt(e)):Ht(e):tt(e)}const Js={__proto__:null,[Symbol.iterator](){return De(this,Symbol.iterator,t=>dt(this,t))},concat(...t){return Rt(this).concat(...t.map(e=>m(e)?Rt(e):e))},entries(){return De(this,"entries",t=>(t[1]=dt(this,t[1]),t))},every(t,e){return st(this,"every",t,e,void 0,arguments)},filter(t,e){return st(this,"filter",t,e,n=>n.map(s=>dt(this,s)),arguments)},find(t,e){return st(this,"find",t,e,n=>dt(this,n),arguments)},findIndex(t,e){return st(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return st(this,"findLast",t,e,n=>dt(this,n),arguments)},findLastIndex(t,e){return st(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return st(this,"forEach",t,e,void 0,arguments)},includes(...t){return Le(this,"includes",t)},indexOf(...t){return Le(this,"indexOf",t)},join(t){return Rt(this).join(t)},lastIndexOf(...t){return Le(this,"lastIndexOf",t)},map(t,e){return st(this,"map",t,e,void 0,arguments)},pop(){return Vt(this,"pop")},push(...t){return Vt(this,"push",t)},reduce(t,...e){return _n(this,"reduce",t,e)},reduceRight(t,...e){return _n(this,"reduceRight",t,e)},shift(){return Vt(this,"shift")},some(t,e){return st(this,"some",t,e,void 0,arguments)},splice(...t){return Vt(this,"splice",t)},toReversed(){return Rt(this).toReversed()},toSorted(t){return Rt(this).toSorted(t)},toSpliced(...t){return Rt(this).toSpliced(...t)},unshift(...t){return Vt(this,"unshift",t)},values(){return De(this,"values",t=>dt(this,t))}};function De(t,e,n){const s=Ae(t),i=s[e]();return s!==t&&!ft(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const Ys=Array.prototype;function st(t,e,n,s,i,r){const o=Ae(t),c=o!==t&&!ft(t),f=o[e];if(f!==Ys[e]){const l=f.apply(t,r);return c?tt(l):l}let u=n;o!==t&&(c?u=function(l,a){return n.call(this,dt(t,l),a,t)}:n.length>2&&(u=function(l,a){return n.call(this,l,a,t)}));const d=f.call(o,u,s);return c&&i?i(d):d}function _n(t,e,n,s){const i=Ae(t);let r=n;return i!==t&&(ft(t)?n.length>3&&(r=function(o,c,f){return n.call(this,o,c,f,t)}):r=function(o,c,f){return n.call(this,o,dt(t,c),f,t)}),i[e](r,...s)}function Le(t,e,n){const s=S(t);H(s,"iterate",qt);const i=s[e](...n);return(i===-1||i===!1)&&fi(n[0])?(n[0]=S(n[0]),s[e](...n)):i}function Vt(t,e,n=[]){jn();const s=D(),i=S(t)[e].apply(t,n);return D(s),Hn(),i}const qs=On("__proto__,__v_isRef,__isVue"),Un=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ct));function Gs(t){Ct(t)||(t=String(t));const e=S(this);return H(e,"has",t),e.hasOwnProperty(t)}class zn{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?ri:Yn:r?ii:Jn).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=m(e);if(!i){let u;if(o&&(u=Js[n]))return u;if(n==="hasOwnProperty")return Gs}const c=Pt(e),f=Reflect.get(e,n,c?e:s);if(c&&n!=="value"||(Ct(n)?Un.has(n):qs(n))||(i||H(e,"get",n),r))return f;if(Pt(f)){const u=o&&tn(n)?f:f.value;return i&&X(u)?Ye(u):u}return X(f)?i?Ye(f):qn(f):f}}class Xs extends zn{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];const o=m(e)&&tn(n);if(!this._isShallow){const u=ct(r);if(!ft(s)&&!ct(s)&&(r=S(r),s=S(s)),!o&&Pt(r)&&!Pt(s))return u||(r.value=s),!0}const c=o?Number(n)<e.length:M(e,n),f=Reflect.set(e,n,s,Pt(e)?e:i);return e===S(i)&&(c?Tt(s,r)&&ht(e,"set",n,s):ht(e,"add",n,s)),f}deleteProperty(e,n){const s=M(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&ht(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Ct(n)||!Un.has(n))&&H(e,"has",n),s}ownKeys(e){return H(e,"iterate",m(e)?"length":$t),Reflect.ownKeys(e)}}class Zs extends zn{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Qs=new Xs,ks=new Zs,Je=t=>t,ne=t=>Reflect.getPrototypeOf(t);function ti(t,e,n){return function(...s){const i=this.__v_raw,r=S(i),o=Ut(r),c=t==="entries"||t===Symbol.iterator&&o,f=t==="keys"&&o,u=i[t](...s),d=n?Je:e?Ht:tt;return!e&&H(r,"iterate",f?We:$t),{next(){const{value:l,done:a}=u.next();return a?{value:l,done:a}:{value:c?[d(l[0]),d(l[1])]:d(l),done:a}},[Symbol.iterator](){return this}}}}function se(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ei(t,e){const n={get(i){const r=this.__v_raw,o=S(r),c=S(i);t||(Tt(i,c)&&H(o,"get",i),H(o,"get",c));const{has:f}=ne(o),u=e?Je:t?Ht:tt;if(f.call(o,i))return u(r.get(i));if(f.call(o,c))return u(r.get(c));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&H(S(i),"iterate",$t),i.size},has(i){const r=this.__v_raw,o=S(r),c=S(i);return t||(Tt(i,c)&&H(o,"has",i),H(o,"has",c)),i===c?r.has(i):r.has(i)||r.has(c)},forEach(i,r){const o=this,c=o.__v_raw,f=S(c),u=e?Je:t?Ht:tt;return!t&&H(f,"iterate",$t),c.forEach((d,l)=>i.call(r,u(d),u(l),o))}};return ke(n,t?{add:se("add"),set:se("set"),delete:se("delete"),clear:se("clear")}:{add(i){!e&&!ft(i)&&!ct(i)&&(i=S(i));const r=S(this);return ne(r).has.call(r,i)||(r.add(i),ht(r,"add",i,i)),this},set(i,r){!e&&!ft(r)&&!ct(r)&&(r=S(r));const o=S(this),{has:c,get:f}=ne(o);let u=c.call(o,i);u||(i=S(i),u=c.call(o,i));const d=f.call(o,i);return o.set(i,r),u?Tt(r,d)&&ht(o,"set",i,r):ht(o,"add",i,r),this},delete(i){const r=S(this),{has:o,get:c}=ne(r);let f=o.call(r,i);f||(i=S(i),f=o.call(r,i)),c&&c.call(r,i);const u=r.delete(i);return f&&ht(r,"delete",i,void 0),u},clear(){const i=S(this),r=i.size!==0,o=i.clear();return r&&ht(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=ti(i,t,e)}),n}function Wn(t,e){const n=ei(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(M(n,i)&&i in s?n:s,i,r)}const ni={get:Wn(!1,!1)},si={get:Wn(!0,!1)},Jn=new WeakMap,ii=new WeakMap,Yn=new WeakMap,ri=new WeakMap;function oi(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ci(t){return t.__v_skip||!Object.isExtensible(t)?0:oi(Es(t))}function qn(t){return ct(t)?t:Gn(t,!1,Qs,ni,Jn)}function Ye(t){return Gn(t,!0,ks,si,Yn)}function Gn(t,e,n,s,i){if(!X(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=ci(t);if(r===0)return t;const o=i.get(t);if(o)return o;const c=new Proxy(t,r===2?s:n);return i.set(t,c),c}function nn(t){return ct(t)?nn(t.__v_raw):!!(t&&t.__v_isReactive)}function ct(t){return!!(t&&t.__v_isReadonly)}function ft(t){return!!(t&&t.__v_isShallow)}function fi(t){return t?!!t.__v_raw:!1}function S(t){const e=t&&t.__v_raw;return e?S(e):t}function ui(t){return!M(t,"__v_skip")&&Object.isExtensible(t)&&Ns(t,"__v_skip",!0),t}const tt=t=>X(t)?qn(t):t,Ht=t=>X(t)?Ye(t):t;function Pt(t){return t?t.__v_isRef===!0:!1}function Xn(t){return Zn(t,tt)}function ce(t){return Zn(t)}function Zn(t,e){return Pt(t)?t:new li(t,e)}class li{constructor(e,n){this.subs=void 0,this.subsTail=void 0,this.flags=b.Mutable,this.__v_isRef=!0,this.__v_isShallow=!1,this._oldValue=this._rawValue=n?S(e):e,this._value=n?n(e):e,this._wrap=n,this.__v_isShallow=!n}get dep(){return this}get value(){if(ai(this),this.flags&b.Dirty&&this.update()){const e=this.subs;e!==void 0&&Yt(e)}return this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ft(e)||ct(e);if(e=s?e:S(e),Tt(e,n)){this.flags|=b.Dirty,this._rawValue=e,this._value=!s&&this._wrap?this._wrap(e):e;const i=this.subs;i!==void 0&&(Fn(i),en||Bn())}}update(){return this.flags&=~b.Dirty,Tt(this._oldValue,this._oldValue=this._rawValue)}}function ai(t){U!==void 0&&Nt(t,U)}function di(t){return Pt(t)?t.value:t}class Qn{constructor(e){this.deps=void 0,this.depsTail=void 0,this.subs=void 0,this.subsTail=void 0,this.flags=b.Watching|b.Dirty,this.cleanups=[],this.cleanupsLength=0,e!==void 0&&(this.fn=e),F&&Nt(this,F)}fn(){}get active(){return!(this.flags&1024)}pause(){this.flags|=256}resume(){(this.flags&=-257)&(b.Dirty|b.Pending)&&this.notify()}notify(){!(this.flags&256)&&this.dirty&&this.run()}run(){if(!this.active)return this.fn();Ge(this);const e=Kn(this);try{return this.fn()}finally{Vn(this,e);const n=this.flags;(n&(b.Recursed|128))===(b.Recursed|128)&&(this.flags=n&~b.Recursed,this.notify())}}stop(){if(!this.active)return;this.flags=1024;let e=this.deps;for(;e!==void 0;)e=jt(e,this);const n=this.subs;n!==void 0&&jt(n),Ge(this)}get dirty(){const e=this.flags;if(e&b.Dirty)return!0;if(e&b.Pending){if(Ue(this.deps,this))return this.flags=e|b.Dirty,!0;this.flags=e&~b.Pending}return!1}}const qe=[];function pi(){qe.push(U),D()}function hi(){qe.length?D(qe.pop()):D()}function Ge(t){const e=t.cleanupsLength;if(e){for(let n=0;n<e;n++)t.cleanups[n]();t.cleanupsLength=0}}function gi(t,e=!1){U instanceof Qn&&(U.cleanups[U.cleanupsLength++]=()=>_i(t))}function _i(t){const e=D();try{t()}finally{D(e)}}let F;class he{constructor(e=!1){this.deps=void 0,this.depsTail=void 0,this.subs=void 0,this.subsTail=void 0,this.flags=0,this.cleanups=[],this.cleanupsLength=0,!e&&F&&Nt(this,F)}get active(){return!(this.flags&1024)}pause(){if(!(this.flags&256)){this.flags|=256;for(let e=this.deps;e!==void 0;e=e.nextDep){const n=e.dep;"pause"in n&&n.pause()}}}resume(){const e=this.flags;if(e&256){this.flags=e&-257;for(let n=this.deps;n!==void 0;n=n.nextDep){const s=n.dep;"resume"in s&&s.resume()}}}run(e){const n=F;try{return F=this,e()}finally{F=n}}stop(){if(!this.active)return;this.flags=1024,this.reset();const e=this.subs;e!==void 0&&jt(e)}reset(){let e=this.deps;for(;e!==void 0;){const n=e.dep;"stop"in n?(e=e.nextDep,n.stop()):e=jt(e,this)}Ge(this)}}function vi(t){try{return F}finally{F=t}}function kn(t,e=!1){F!==void 0&&(F.cleanups[F.cleanupsLength++]=t)}class mi{constructor(e,n){this.fn=e,this.setter=n,this._value=void 0,this.subs=void 0,this.subsTail=void 0,this.deps=void 0,this.depsTail=void 0,this.flags=b.Mutable|b.Dirty,this.__v_isRef=!0,this.__v_isReadonly=!n}get effect(){return this}get dep(){return this}get _dirty(){const e=this.flags;if(e&b.Dirty)return!0;if(e&b.Pending){if(Ue(this.deps,this))return this.flags=e|b.Dirty,!0;this.flags=e&~b.Pending}return!1}set _dirty(e){e?this.flags|=b.Dirty:this.flags&=~(b.Dirty|b.Pending)}get value(){const e=this.flags;if(e&b.Dirty||e&b.Pending&&Ue(this.deps,this)){if(this.update()){const n=this.subs;n!==void 0&&Yt(n)}}else e&b.Pending&&(this.flags=e&~b.Pending);return U!==void 0?Nt(this,U):F!==void 0&&Nt(this,F),this._value}set value(e){this.setter&&this.setter(e)}update(){const e=Kn(this);try{const n=this._value,s=this.fn(n);return Tt(n,s)?(this._value=s,!0):!1}finally{Vn(this,e)}}}function bi(t,e,n=!1){let s,i;return $(t)?s=t:(s=t.get,i=t.set),new mi(s,i)}function Te(t,e,n,s){try{return s?t(...s):t()}catch(i){sn(i,e,n)}}function Ft(t,e,n,s){if($(t)){const i=Te(t,e,n,s);return i&&Rn(i)&&i.catch(r=>{sn(r,e,n)}),i}if(m(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Ft(t[r],e,n,s));return i}}function sn(t,e,n,s=!0){const{errorHandler:i,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||V;if(e){let o=e.parent;const c=e.proxy||e,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,c,f)===!1)return}o=o.parent}if(i){const u=D();Te(i,null,10,[t,c,f]),D(u);return}}yi(t,n,e,s,r)}function yi(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const xt=[];let k=[],pt=null,ge=null,gt=0,it=0,fe=0;const Si=Promise.resolve();function wi(t,e,n,s){for(;n<s;){const i=n+s>>>1;e[i].order<=t?n=i+1:s=i}return n}function xi(t,e,n=!1){Xe(t,e===void 0?n?-2:1/0:n?e*2:e*2+1,xt,gt,it)&&(gt++,ts())}function Xe(t,e,n,s,i){const r=t.flags;return r&1?!1:(t.flags=r|1,t.order=e,i===s||e>=n[s-1].order?n[s]=t:n.splice(wi(e,n,i,s),0,t),!0)}const Ai=()=>{try{ns()}catch(t){throw ge=null,t}};function ts(){ge||(ge=Si.then(Ai))}function Gt(t,e=1/0){if(!m(t))pt&&e===-1?pt.splice(fe,0,t):Xe(t,e,k,k.length,0);else for(const n of t)Xe(n,e,k,k.length,0);ts()}function Ti(t,e){for(let n=it;n<gt;n++){const s=xt[n];s.order&1||s.order===1/0||(xt.splice(n,1),n--,gt--,s.flags&2&&(s.flags&=-2),s(),s.flags&2||(s.flags&=-2))}}function es(t){if(k.length){if(pt){pt.push(...k),k.length=0;return}for(pt=k,k=[];fe<pt.length;){const e=pt[fe++];if(e.flags&2&&(e.flags&=-2),!(e.flags&4))try{e()}finally{e.flags&=-2}}pt=null,fe=0}}let Ne=!1;function $i(t){Ne||(Ne=!0,Ti(),es(),Ne=!1)}function ns(t){try{for(;it<gt;){const e=xt[it];if(xt[it++]=void 0,!(e.flags&4)){e.flags&2&&(e.flags&=-2);try{e()}catch(n){sn(n,e.i,e.i?15:14)}finally{e.flags&2||(e.flags&=-2)}}}}finally{for(;it<gt;)xt[it].flags&=-2,xt[it++]=void 0;it=0,gt=0,es(),ge=null,(gt||k.length)&&ns()}}const Pi=Symbol("_leaveCb");function Ci(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Ei=t=>!!t.type.__asyncLoader,ss=t=>t.type.__isKeepAlive;function Oi(t,e,n=g,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{const c=D(),f=W(n);try{return Ft(e,n,t,o)}finally{W(...f),D(c)}});return s?i.unshift(r):i.push(r),r}}const Ri=t=>(e,n=g)=>{(!rs||t==="sp")&&Oi(t,(...s)=>e(...s),n)},is=Ri("um"),Ii="components",Mi=Symbol.for("v-ndc");function Di(t){return j(t)?Li(Ii,t,!1)||t:t||Mi}function Li(t,e,n=!0,s=!1){const i=g;if(i){const r=i.type;{const c=cs(r,!1);if(c&&(c===e||c===K(e)||c===Se(K(e))))return r}const o=vn(i[t]||r[t],e)||vn(i.appContext[t],e);return!o&&s?r:o}}function vn(t,e){return t&&(t[e]||t[K(e)]||t[Se(K(e))])}function Ni(){return{app:null,config:{isNativeTag:ae,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ji=0;function Hi(t,e,n,s){return function(r,o=null){$(r)||(r=ke({},r)),o!=null&&!X(o)&&(o=null);const c=Ni(),f=new WeakSet,u=[];let d=!1;const l=c.app={_uid:ji++,_component:r,_props:o,_container:null,_context:c,_instance:null,version:tr,get config(){return c.config},set config(a){},use(a,...P){return f.has(a)||(a&&$(a.install)?(f.add(a),a.install(l,...P)):$(a)&&(f.add(a),a(l,...P))),l},mixin(a){return c.mixins.includes(a)||c.mixins.push(a),l},component(a,P){return P?(c.components[a]=P,l):c.components[a]},directive(a,P){return P?(c.directives[a]=P,l):c.directives[a]},mount(a,P,h){if(!d){const p=t(l,a,P,h);return d=!0,l._container=a,a.__vue_app__=l,n(p)}},onUnmount(a){u.push(a)},unmount(){d&&(Ft(u,l._instance,16),e(l),delete l._container.__vue_app__)},provide(a,P){return c.provides[a]=P,l},runWithContext(a){try{return a()}finally{}}};return l}}const Fi=(t,e,n)=>n(t,Ls(e))||n(t,`${K(e)}Modifiers`)||n(t,`${Xt(e)}Modifiers`);function Ki(t,e,n,s,...i){if(t.isUnmounted)return;let r=i;const o=s.startsWith("update:"),c=o&&Fi(e,s.slice(7),n);c&&(c.trim&&(r=i.map(l=>j(l)?l.trim():l)),c.number&&(r=i.map(js)));let f,u=n(e,f=Ie(s))||n(e,f=Ie(K(s)));!u&&o&&(u=n(e,f=Ie(Xt(s)))),u&&Ft(u,t,6,r);const d=n(e,f+"Once");if(d){if(!t.emitted)t.emitted={};else if(t.emitted[f])return;t.emitted[f]=!0,Ft(d,t,6,r)}}function mn(t,e){return!t||!me(e)?!1:(e=e.slice(2).replace(/Once$/,""),M(t,e[0].toLowerCase()+e.slice(1))||M(t,Xt(e))||M(t,e))}const Vi=t=>{let e;for(const n in t)(n==="class"||n==="style"||me(n))&&((e||(e={}))[n]=t[n]);return e};function je(t,e,n,s,i,r=!1){const o=t[e];if(o!=null){const c=M(o,"default");if(c&&n===void 0){const f=o.default;if(o.type!==Function&&!o.skipFactory&&$(f)){const u=s.propsDefaults||(s.propsDefaults={});M(u,e)?n=u[e]:n=u[e]=i(f,s,e)}else n=f;s.ce&&s.ce._setProp(e,n)}o[0]&&(r&&!c?n=!1:o[1]&&(n===""||n===Xt(e))&&(n=!0))}return n}function Bi(t,e,n){if(m(t))for(let s=0;s<t.length;s++){const i=K(t[s]);bn(i)&&(e[i]=V)}else if(t)for(const s in t){const i=K(s);if(bn(i)){const r=t[s],o=e[i]=m(r)||$(r)?{type:r}:ke({},r),c=o.type;let f=!1,u=!0;if(m(c))for(let d=0;d<c.length;++d){const l=c[d],a=$(l)&&l.name;if(a==="Boolean"){f=!0;break}else a==="String"&&(u=!1)}else f=$(c)&&c.name==="Boolean";o[0]=f,o[1]=u,(f||M(o,"default"))&&n.push(i)}}}function bn(t){return t[0]!=="$"&&!Rs(t)}const Ui=Gi;function zi(t,e){return e&&!e.persisted}function Wi(t,e,n,s,i=!1){i||zi(s,e)?(e.beforeEnter(t),n(),Ui(()=>e.enter(t),void 0,s)):n()}function Ji(t,e,n,s=!0,i=!1){const r=()=>{n(),e&&!e.persisted&&e.afterLeave&&e.afterLeave()};if(i||s&&e&&!e.persisted){const{leave:o,delayLeave:c}=e,f=()=>{t._isLeaving&&i&&t[Pi](!0),o(t,r)};c?c(t,r,f):f()}else r()}function Yi(t,e){const n=[];let s=e,i=t;for(;s;){let r=s.subTree;if(!r)break;if(i===r||qi(r.type)&&(r.ssContent===i||r.ssFallback===i)){const o=s.vnode;o.scopeId&&n.push(o.scopeId),o.slotScopeIds&&n.push(...o.slotScopeIds),i=o,s=s.parent}else break}return n}const qi=t=>t.__isSuspense;function Gi(t,e,n){n&&n.pendingBranch?m(t)?n.effects.push(...t):n.effects.push(t):Gt(t,e)}function Xi(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=xe([e.class,s.class]));else if(i==="style")e.style=we([e.style,s.style]);else if(me(i)){const r=e[i],o=s[i];o&&r!==o&&!(m(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}let g=null,rs=!1,os;{const t=Mn(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};os=e("__VUE_INSTANCE_SETTERS__",n=>g=n),e("__VUE_SSR_SETTERS__",n=>rs=n)}const W=(t,e=t!==null?t.scope:void 0)=>{try{return[g,vi(e)]}finally{os(t)}};let Zi=0;function Qi(){return Zi++}function ki(t,e){t.exposed=e||{}}function cs(t,e=!0){return $(t)?t.displayName||t.name:t.name||e&&t.__name}const tr="3.6.0-beta.2";let Ze;const yn=typeof window<"u"&&window.trustedTypes;if(yn)try{Ze=yn.createPolicy("vue",{createHTML:t=>t})}catch{}const er=Ze?t=>Ze.createHTML(t):t=>t,Sn=Symbol("_vod"),nr=Symbol("_vsh"),sr=Symbol(""),ir=/(?:^|;)\s*display\s*:/;function fs(t,e,n){const s=t.style,i=j(n);let r=!1;if(n&&!i){if(e)if(j(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&ue(s,c,"")}else for(const o in e)n[o]==null&&ue(s,o,"");for(const o in n)o==="display"&&(r=!0),ue(s,o,n[o])}else if(i){if(e!==n){const o=s[sr];o&&(n+=";"+o),s.cssText=n,r=ir.test(n)}}else e&&t.removeAttribute("style");Sn in t&&(t[Sn]=r?s.display:"",t[nr]&&(s.display="none"))}const wn=/\s*!important$/;function ue(t,e,n){if(m(n))n.forEach(s=>ue(t,e,s));else{const s=n==null?"":String(n);if(e.startsWith("--"))t.setProperty(e,s);else{const i=rr(t,e);wn.test(s)?t.setProperty(Xt(i),s.replace(wn,""),"important"):t[i]=s}}}const xn=["Webkit","Moz","ms"],He={};function rr(t,e){const n=He[e];if(n)return n;let s=K(e);if(s!=="filter"&&s in t)return He[e]=s;s=Se(s);for(let i=0;i<xn.length;i++){const r=xn[i]+s;if(r in t)return He[e]=r}return e}const An="http://www.w3.org/1999/xlink";function or(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&hn(e)&&$(n)):Us(t.tagName,e)||hn(e)&&j(n)?!1:e in t}function cr(t){return j(t)?document.querySelector(t):t}let Et,_t;function It(t,e,n){Et=t,e!==void 0?(_t=typeof e=="number"&&e>0?null:e,e===0&&!t.$fc&&(t.$fc=t.firstChild)):_t=void 0}function Zt(){Et=_t=void 0}let fr=!1;function ur(t){return document.createElement(t)}function rn(t=""){return document.createTextNode(t)}const lr=$e;function $e(t){return t.firstChild}function ar(t,e){return t.childNodes[e]}function dr(t){return t.nextSibling}const Mt=(...t)=>Mt.impl(...t);Mt.impl=lr;const B=(...t)=>B.impl(...t);B.impl=$e;const N=(...t)=>N.impl(...t);N.impl=dr;const on=(...t)=>on.impl(...t);on.impl=ar;function pr(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function us(t,e,n,s={}){if(m(n))n.forEach(i=>us(t,e,i,s));else{if(!n)return;pr(t,e,n,s),s.effect&&gi(()=>{t.removeEventListener(e,n,s)})}}const Tn=Object.create(null),ls=(...t)=>{for(const e of t)Tn[e]||(Tn[e]=!0,document.addEventListener(e,hr))},hr=t=>{let e=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==e&&Object.defineProperty(t,"target",{configurable:!0,value:e}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}});e!==null;){const n=e[`$evt${t.type}`];if(n){if(m(n)){for(const s of n)if(!e.disabled&&(s(t),t.cancelBubble))return}else if(n(t),t.cancelBubble)return}e=e.host&&e.host!==e&&e.host instanceof Node?e.host:e.parentNode}};function zt(t){const e=g;return(...n)=>Ft(t,e,5,n)}const cn=t=>g.hasFallthrough&&t in g.attrs;function gr(t,e,n,s=!1){!mt&&t.$root&&cn(e)||(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),n!==t[`$${e}`]&&(t[`$${e}`]=n,s&&e.startsWith("xlink:")?n!=null?t.setAttributeNS(An,e,n):t.removeAttributeNS(An,e.slice(6,e.length)):n!=null?t.setAttribute(e,n):t.removeAttribute(e)))}function $n(t,e,n,s=!1,i){if(!mt&&t.$root&&cn(e))return;const r=t[e];if(n===r)return;let o=!1;if(n===""||n==null){const c=typeof r;c==="boolean"?n=Bs(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function fn(t,e,n=!1){t.$root?_r(t,e):(e=xe(e),e!==t.$cls&&(n?t.setAttribute("class",t.$cls=e):t.className=t.$cls=e))}function _r(t,e){const n=`$clsi${mt?"$":""}`,s=xe(e),i=t[n];if((e=t[n]=s)!==i){const r=e.split(/\s+/);if(e&&t.classList.add(...r),i)for(const o of i.split(/\s+/))r.includes(o)||t.classList.remove(o)}}function vr(t,e){if(t.$root)mr(t,e);else{const n=we(e);fs(t,t.$sty,t.$sty=n)}}function mr(t,e){const n=`$styi${mt?"$":""}`,s=j(e)?Dn(e):we(e);fs(t,t[n],t[n]=s)}function br(t,e,n=!1){if(!mt&&t.$root&&cn("value"))return;t._value=e;const s=t.tagName==="OPTION"?t.getAttribute("value"):t.value,i=e??"";s!==i&&(t.value=i),e==null&&t.removeAttribute("value")}function rt(t,e){t.$txt!==e&&(t.nodeValue=t.$txt=e)}function yr(t,e){e=G(e),t.$txt!==e&&(t.textContent=t.$txt=e)}function Sr(t,e){e=e==null?"":er(e),t.$html!==e&&(t.innerHTML=t.$html=e)}function wr(t,e,n){const s=e.length>1?Xi(...e):e[0],i=`$dprops${mt?"$":""}`,r=t[i];if(r)for(const o of r)o in s||Pn(t,o,null,n);for(const o of t[i]=Object.keys(s))Pn(t,o,s[o],n)}function Pn(t,e,n,s=!1){let i=!1;return e==="class"?fn(t,n,s):e==="style"?vr(t,n):me(e)?us(t,e[2].toLowerCase()+e.slice(3),n,{effect:!0}):((i=e[0]===".")?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):or(t,e,n,s))?e==="innerHTML"?Sr(t,n):e==="textContent"?yr(t,n):e==="value"&&Hs(t.tagName)?br(t,n,i):$n(t,e,n,i):t._isVueCE&&(/[A-Z]/.test(e)||!j(n))?$n(t,K(e),n,i,e):gr(t,e,n,s),n}let Cn=!1;function xr(){if(Cn)return;Cn=!0;const t=Element.prototype;t.$transition=void 0,t.$key=void 0,t.$fc=t.$evtclick=void 0,t.$root=!1,t.$html=t.$cls=t.$sty="",Text.prototype.$txt=void 0}function as(t){let e=t;for(;e;){if(ss(e))return e;e=e.parent}return null}let Wt=null;function En(t){try{return Wt}finally{Wt=t}}const Ar=Symbol("interop");function Tr(t){const e=t.__emitsOptions;if(e)return e;const n=t.emits;if(!n)return null;let s;if(m(n)){s={};for(const i of n)s[i]=null}else s=n;return t.__emitsOptions=s}function $r(t,e,...n){Ki(t,t.rawProps||V,Pr,e,...n)}function Pr(t,e){const n=t.$;if(n){let s=n.length;for(;s--;){const i=Dt(n[s]);if(M(i,e))return n[Ar]?i[e]:Dt(i[e])}}return t[e]&&Dt(t[e])}function Dt(t){return $(t)?vt(t):t}function vt(t){if(t._cache)return t._cache.value;const e=g&&g.parent;return e?(t._cache=bi(()=>{const n=W(e);try{return t()}finally{W(...n)}}),kn(()=>t._cache=void 0),t._cache.value):t()}function Cr(t,e){if(t.__propsHandlers)return t.__propsHandlers;const n=ps(t)[0],s=Tr(t),i=n?h=>j(h)&&M(n,K(h)):ae,r=n?h=>h!=="$"&&!i(h)&&!mn(s,h):$s,o=(h,p)=>{if(p==="__v_isReactive")return!0;if(!i(p))return;const T=h.rawProps,J=T.$;if(J){let et=J.length,y,z,Y;for(;et--;){y=J[et],z=$(y),y=z?vt(y):y;for(Y in y)if(K(Y)===p)return je(n,p,z?y[Y]:vt(y[Y]),h,Fe)}}for(const et in T)if(K(et)===p)return je(n,p,Dt(T[et]),h,Fe);return je(n,p,void 0,h,Fe,!0)},c=h=>((p,T)=>{const J=p.oncePropsCache||(p.oncePropsCache={});if(!(T in J)){pi();try{J[T]=h(p,T)}finally{hi()}}return J[T]}),f=c(o),u=n?{get:(h,p)=>(e?f:o)(h,p),has:(h,p)=>i(p),ownKeys:()=>Object.keys(n),getOwnPropertyDescriptor(h,p){if(i(p))return{configurable:!0,enumerable:!0,get:()=>(e?f:o)(h,p)}}}:null,d=(h,p)=>{if(!i(p)&&!mn(s,p))return Er(h,p)},l=(h,p)=>r(p)?Or(h,p):!1,a=c((h,p)=>d(h.rawProps,p)),P={get:(h,p)=>e?a(h,p):d(h.rawProps,p),has:(h,p)=>l(h.rawProps,p),ownKeys:h=>ds(h.rawProps).filter(r),getOwnPropertyDescriptor(h,p){if(l(h.rawProps,p))return{configurable:!0,enumerable:!0,get:()=>e?a(h,p):d(h.rawProps,p)}}};return t.__propsHandlers=[u,P]}function Er(t,e){if(e==="$")return;const n=e==="class"||e==="style"?[]:void 0,s=t.$;if(s){let i=s.length,r,o;for(;i--;)if(r=s[i],o=$(r),r=o?vt(r):r,r&&M(r,e)){const c=o?r[e]:vt(r[e]);if(n)n.push(c);else return c}}if(M(t,e)){const i=Dt(t[e]);if(n)n.push(i);else return i}if(n&&n.length)return n}function Or(t,e){if(e==="$")return!1;const n=t.$;if(n){let s=n.length;for(;s--;){const i=Dt(n[s]);if(i&&M(i,e))return!0}}return M(t,e)}function ds(t){const e=[];for(const s in t)s!=="$"&&e.push(s);const n=t.$;if(n){let s=n.length,i;for(;s--;){i=$(n[s])?vt(n[s]):n[s];for(const r in i)e.push(r)}}return Array.from(new Set(e))}function ps(t){const e=t.__propsOptions;if(e)return e;const n=t.props;if(!n)return Ts;const s={},i=[];return Bi(n,s,i),t.__propsOptions=[s,i]}function Fe(t,e){const n=W(e),s=t.call(null,e.props);return W(...n),s}function Rr(t,e){if(e){if(e.$||!t.props)return!0;{const n=ps(t)[0];for(const s in e)if(!M(n,K(s)))return!0}}return!1}const Ir={get:Ke,has:(t,e)=>!!Ke(t,e),getOwnPropertyDescriptor(t,e){const n=Ke(t,e);if(n)return{configurable:!0,enumerable:!0,value:n}},ownKeys(t){let e=Object.keys(t);const n=t.$;if(n){e=e.filter(s=>s!=="$");for(const s of n)if($(s)){const i=vt(s);if(i)if(m(i))for(const r of i)e.push(String(r.name));else e.push(String(i.name))}else e.push(...Object.keys(s))}return e},set:ae,deleteProperty:ae};function Ke(t,e){if(e==="$")return;const n=t.$;if(n){let s=n.length,i;for(;s--;)if(i=n[s],$(i)){const r=vt(i);if(r){if(m(r)){for(const o of r)if(String(o.name)===e)return o.fn}else if(String(r.name)===e)return r.fn}}else if(M(i,e))return i[e]}if(M(t,e))return t[e]}let _e=null;function ve(t){try{return _e}finally{_e=t}}function Mr(){return _e||g}class Dr extends Qn{constructor(e){super(),this.render=e;const n=g,s=()=>{this.dirty&&this.run()};this.updateJob=()=>{n.isUpdating=!1,n.u&&de(n.u)},n&&(n.type.ce&&(n.renderEffects||(n.renderEffects=[])).push(this),s.i=n),this.job=s,this.i=n}fn(){const e=this.i,n=this.subs?this.subs.sub:void 0,s=e&&(e.bu||e.u),i=W(e,n);s&&e.isMounted&&!e.isUpdating?(e.isUpdating=!0,e.bu&&de(e.bu),this.render(),Gt(this.updateJob)):this.render(),W(...i)}notify(){this.flags&256||xi(this.job,this.i?this.i.uid:void 0)}}function ut(t,e=!1){const n=new Dr(t);e&&(n.fn=t),n.run()}class Pe{constructor(e){this.vnode=null,this.nodes=e}}class hs extends Pe{constructor(e){super(e)}}class Ce extends Pe{constructor(e){super([]),this.hydrate=(n=!1)=>{},this.slotOwner=_e,this.anchor=rn()}update(e,n=e){if(n===this.current)return;const s=this.$transition;if(s&&s.state.isLeaving){this.current=n,this.pending={render:e,key:n};return}const i=this.current;this.current=n;const r=g,o=D(),c=this.anchor.parentNode;if(this.scope){let f=!1;if(this.onBeforeTeardown)for(const d of this.onBeforeTeardown)d(i,this.nodes,this.scope)&&(f=!0);f||this.scope.stop();const u=s&&s.mode;if(u){if(this.nodes,c&&ot(this.nodes,c),u==="out-in"){D(o);return}}else c&&ot(this.nodes,c)}if(this.renderBranch(e,s,c,r),this.fallback){let f=null;Qt(this.nodes)&&gs(this.nodes,this.fallback,u=>{Lt(u.nodes)||(f=u)}),!f&&!Lt(this.nodes)&&(f=this),f&&(c&&ot(this.nodes,c),(this.scope||(this.scope=new he)).run(()=>{f!==this?Lr(f):this.nodes=this.fallback()||[]}),c&&L(this.nodes,c,this.anchor))}D(o)}renderBranch(e,n,s,i){if(e){const r=this.getScope&&this.getScope(this.current);r?this.scope=r:this.scope=new he;const o=ve(this.slotOwner),c=s&&i?W(i):void 0;this.nodes=this.scope.run(e)||[],c!==void 0&&W(...c),ve(o),n&&(this.$transition=_s(this.nodes,n)),this.onBeforeMount&&this.onBeforeMount.forEach(f=>f(this.current,this.nodes,this.scope)),s&&(this.attrs&&this.nodes instanceof Element&&this.scope.run(()=>{ut(()=>vs(this.nodes,this.attrs))}),L(this.nodes,s,this.anchor),this.onUpdated&&this.onUpdated.forEach(f=>f(this.nodes)))}else this.scope=void 0,this.nodes=[]}}function gs(t,e,n){if(t.fallback){const s=t.fallback;t.fallback=()=>{const i=s();return Lt(i)?i:e()}}else t.fallback=e;n&&n(t),Qt(t.nodes)&&gs(t.nodes,t.fallback,n)}function Lr(t){t instanceof hs?t.nodes[0]=[t.fallback()||[]]:t instanceof Ce&&t.update(t.fallback)}function Qt(t){return t instanceof Pe}function Nr(t){return!!(t&&t.__isTeleport&&t.__vapor)}function jr(t){return!!(t&&t.__isTeleportFragment)}function Hr(t){return t instanceof Node||m(t)||bt(t)||Qt(t)}function Lt(t){return t instanceof Node?!(t instanceof Comment):bt(t)?Lt(t.block):m(t)?t.length>0&&t.some(Lt):Lt(t.nodes)}function L(t,e,n=null,s){if(n=n===0?e.$fc||$e(e):n,t instanceof Node)t instanceof Element&&t.$transition&&!t.$transition.disabled?Wi(t,t.$transition,()=>e.insertBefore(t,n),s):e.insertBefore(t,n);else if(bt(t))t.isMounted&&!t.isDeactivated?L(t.block,e,n):Ee(t,e,n);else if(m(t))for(const i of t)L(i,e,n);else t.anchor&&(L(t.anchor,e,n),n=t.anchor),t.insert?t.insert(e,n,t.$transition):L(t.nodes,e,n,s)}function ot(t,e){if(t instanceof Node)t.$transition&&t instanceof Element?Ji(t,t.$transition,()=>e&&e.removeChild(t)):e&&e.removeChild(t);else if(bt(t))an(t,e);else if(m(t))for(let n=0;n<t.length;n++)ot(t[n],e);else t.remove?t.remove(e,t.$transition):ot(t.nodes,e),t.anchor&&ot(t.anchor,e),t.scope&&t.scope.stop()}function Jt(t,e){if(t instanceof Element)for(const n of e)t.setAttribute(n,"");else if(bt(t))Jt(t.block,e);else if(m(t))for(const n of t)Jt(n,e);else Qt(t)&&Jt(t.nodes,e)}function Fr(t){const{parent:e,scopeId:n}=t;if(!e||!n||m(t.block)&&t.block.length>1)return;const s=[],i=e&&e.type.__scopeId;if(i!==n?s.push(n):i&&s.push(i),e.subTree&&e.subTree.component===t&&e.vnode.scopeId){s.push(e.vnode.scopeId);const r=Yi(e.vnode,e.parent);s.push(...r)}s.length>0&&Jt(t.block,s)}function _s(t,e){return e}function un(t,e,n,s,i,r=g&&g.appContext||ln){const o=Et,c=_t;Zt();let f=null;if(g&&g.suspense&&(f=En(g.suspense)),(s||g&&bs(g.type))&&t.inheritAttrs!==!1&&bt(g)&&g.hasFallthrough){const l=g.attrs;e&&e!==V?(e.$||(e.$=[])).push(()=>l):e={$:[()=>l]}}if(g&&g.vapor&&ss(g)){const l=g.getCachedComponent(t);if(l)return l}if(r.vapor&&!t.__vapor){const l=r.vapor.vdomMount(t,g,e,n);return o&&L(l,o,c),l}if(Nr(t)){const l=t.process(e,n);return o&&L(l,o,c),l}const u=new ms(t,e,n,r,i),d=ve(null);return Kr(u,t),g&&g.suspense&&En(f),ve(d),kn(()=>an(u),!0),(o||fr)&&Ee(u,o,c),u}function Kr(t,e){const n=W(t),s=D(),i=$(e)?e:e.setup,r=i&&Te(i,t,0,[t.props,t])||V,o=Rn(r);(o||t.sp)&&!Ei(t)&&Ci(t),o?t.asyncDep=r:ys(r,e,t),D(s),W(...n)}let mt=!1;function vs(t,e){mt=!0,wr(t,[e]),mt=!1}const ln={app:null,config:{},provides:Object.create(null)};class ms{constructor(e,n,s,i,r){if(this.accessedAttrs=!1,this.vapor=!0,this.uid=Qi(),this.type=e,this.parent=g,g?(this.root=g.root,this.appContext=g.appContext,this.provides=g.provides,this.ids=g.ids):(this.root=this,this.appContext=i||ln,this.provides=Object.create(this.appContext.provides),this.ids=["",0,0]),this.block=null,this.scope=new he(!0),this.emit=$r.bind(null,this),this.expose=ki.bind(null,this),this.refs=V,this.emitted=this.exposed=this.exposeProxy=this.propsDefaults=null,this.suspense=Wt,this.suspenseId=Wt?Wt.pendingId:0,this.asyncDep=null,this.asyncResolved=!1,this.isMounted=this.isUnmounted=this.isUpdating=this.isDeactivated=!1,this.rawProps=n||V,this.hasFallthrough=Rr(e,n),n||e.props){const[o,c]=Cr(e,r);this.attrs=new Proxy(this,c),this.props=e.props?new Proxy(this,o):$(e)?this.attrs:V}else this.props=this.attrs=V;this.rawSlots=s||V,this.slots=s?s.$?new Proxy(s,Ir):s:V,this.scopeId=Ss(),e.ce&&e.ce(this)}rawKeys(){return ds(this.rawProps)}}function bt(t){return t instanceof ms}function Vr(t,e,n,s,i,r){return j(t)?Br(t,e,n,s):un(t,e,n,s,i,r)}function Br(t,e,n,s,i){const r=Et,o=_t;Zt();const c=ur(t);c.$root=s;{const f=Ss();f&&Jt(c,[f])}return r&&L(c,r,o),c}function Ee(t,e,n){if(t.suspense&&t.asyncDep&&!t.asyncResolved){const r=t.type;t.suspense.registerDep(t,o=>{ys(o,r,t),Ee(t,e,n)});return}if(t.shapeFlag&512){as(t).activate(t,e,n);return}const{root:s,type:i}=t;s&&s.ce&&s.ce._def.shadowRoot!==!1&&s.ce._injectChildStyle(i),t.bm&&de(t.bm),L(t.block,e,n),Fr(t),t.m&&Gt(t.m),t.shapeFlag&256&&t.a&&Gt(t.a),t.isMounted=!0}function an(t,e){if(e&&t.parent&&t.parent.vapor&&t.shapeFlag&256){as(t).deactivate(t);return}t.isMounted&&!t.isUnmounted&&(t.bum&&de(t.bum),t.scope.stop(),t.um&&Gt(t.um),t.isUnmounted=!0),e&&ot(t.block,e)}function Ur(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ui(t.exposed),{get:(e,n)=>di(e[n])}))}function le(t,e,n=!0){if(t instanceof Element)return t;if(n&&bt(t))return le(t.block,e,n);if(Qt(t)&&!jr(t)){t instanceof Ce&&e&&e(t);const{nodes:s}=t;return s instanceof Element&&s.$root?s:le(s,e,n)}if(m(t)){let s,i=!1;for(const r of t){if(r instanceof Comment){i=!0;continue}const o=le(r,e,n);if(!o||s)return;s=o}return i?s:void 0}}function bs(t){return cs(t)==="VaporTransition"}function ys(t,e,n){if(t===V&&e.render?n.block=Te(e.render,n,1):n.block=t,n.hasFallthrough&&e.inheritAttrs!==!1&&Object.keys(n.attrs).length){const s=le(n.block,i=>i.attrs=n.attrs,!1);s&&ut(()=>{const i=$(e)&&!bs(e)?Vi(n.attrs):n.attrs;i&&vs(s,i)})}}function Ss(){const t=Mr();return t?t.type.__scopeId:void 0}let Ve;const zr=(t,e)=>{xr(),e.nodeType===1&&(e.textContent="");const n=t._ceComponent||un(t._component,t._props,null,!1,!1,t._context);return Ee(n,e),$i(),n},Wr=t=>{an(t._instance,t._container)};function Jr(){const t=Mn();t.__VUE__=!0}function Yr(t){t.vapor=!0;const e=t.mount;t.mount=(n,...s)=>{n=cr(n);const i=e(n,...s);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i}}const qr=(t,e)=>{Jr(),Ve||(Ve=Hi(zr,Wr,Ur));const n=Ve(t,e);return Yr(n),n};let ie;function lt(t,e,n){let s;return()=>{if(t[0]!=="<")return rn(t);s||(ie=ie||document.createElement("template"),ie.innerHTML=t,s=$e(ie.content));const i=s.cloneNode(!0);return e&&(i.$root=!0),i}}function Gr(t,e,n,s){const i=Et,r=_t;Zt();let o;return o=new Ce,ut(()=>o.update(t()?e:n)),i&&L(o,i,r),o}class Xr extends Pe{constructor(e,n,s,i,r,o){super(e),this.scope=n,this.itemRef=s,this.keyRef=i,this.indexRef=r,this.key=o}}const Qe=(t,e,n,s=0,i)=>{const r=Et,o=_t;Zt();let c=!1,f=[],u,d,l;l=rn();const a=new hs(f),P=!!(s&1),h=!!(s&2),p=[],T=()=>{const C=Zr(t()),A=C.values.length,R=f.length;u=new Array(A);let Z=!1;const at=D();if(c)if(d=d||l.parentNode,R)if(A)if(n){const E=Math.min(R,A),w=new Array(R),Q=new Array(A);let q=0,yt=0,St=0;for(;q<E;){const _=A-q-1,x=Bt(C,_),v=n(...x),O=f[R-q-1];if(O.key!==v)break;z(O,...x),u[_]=O,q++}const wt=E-q,Kt=R-q,ws=A-q;for(let _=0;_<wt;_++){const x=Bt(C,_),v=n(...x),O=f[_],I=O.key;I===v?z(u[_]=O,x[0]):(Q[yt++]=[_,x,v],w[St++]=[I,_])}for(let _=wt;_<Kt;_++)w[St++]=[f[_].key,_];for(let _=wt;_<ws;_++){const x=Bt(C,_),v=n(...x);Q[yt++]=[_,x,v]}Q.length=yt,w.length=St;const kt=new Map(w),Ot=new Array(Q.length);let Oe=0,pn=0;for(let _=Q.length-1;_>=0;_--){const[x,v,O]=Q[_],I=kt.get(O);if(I!==void 0){kt.delete(O);const nt=u[x]=f[I];z(nt,...v),Ot[pn++]={index:x,block:nt}}else Oe++,Ot[pn++]={source:C,index:x,item:v,key:O}}const Re=Oe===A;for(const _ of kt.values())Y(f[_],!(Re&&P),!Re);if(Re){for(const _ of p)_.cleanup();P&&(d.textContent="",d.appendChild(l))}if(Ot.length===Oe)for(const{source:_,index:x,item:v,key:O}of Ot)y(_,x,x<A-1?At(u[x+1].nodes):l,v,O);else if(Ot.length){let _=f[0],x;for(let v=0;v<R;v++){const O=f[v];kt.has(O.key)||(O.prevAnchor=_,_=f[v+1],x!==void 0&&(x.next=O,O.prev=x),x=O)}for(const v of Ot){const{index:O}=v;if(O<A-1){const I=u[O+1];let nt=At(I.prevAnchor.nodes);if(nt.parentNode||(nt=At(I.nodes)),"source"in v){const{item:te,key:xs}=v,As=y(C,O,nt,te,xs);re(As,I.prev,I)}else v.block.next!==I&&(L(v.block,d,nt),re(v.block,I.prev,I))}else if("source"in v){const{item:I,key:nt}=v,te=y(C,O,l,I,nt);re(te,x),x=te}else if(v.block.next!==void 0){let I=_?At(_.nodes):l;I.parentNode||(I=l),L(v.block,d,I),re(v.block,x),x=v.block}}for(const v of u)v.prevAnchor=v.next=v.prev=void 0}}else{const E=Math.min(A,R);for(let w=0;w<E;w++)z(u[w]=f[w],Bt(C,w)[0]);for(let w=R;w<A;w++)y(C,w);for(let w=A;w<R;w++)Y(f[w])}else{for(const w of p)w.cleanup();const E=!P;for(let w=0;w<R;w++)Y(f[w],E,!1);P&&(d.textContent="",d.appendChild(l)),a.fallback&&(L(a.nodes[0]=a.fallback(),d,l),Z=!0)}else{a.fallback&&a.nodes[0].length>0&&ot(a.nodes[0],d);for(let E=0;E<A;E++)y(C,E)}else{c=!0;for(let E=0;E<A;E++)y(C,E).nodes}Z?f=[]:(a.nodes=[f=u],l&&a.nodes.push(l)),c&&a.onUpdated&&a.onUpdated.forEach(E=>E()),D(at)},J=e.length>1,et=e.length>2,y=(C,A,R=l,[Z,at,E]=Bt(C,A),w=n&&n(Z,at,E))=>{const Q=ce(Z),q=J?ce(at):void 0,yt=et?ce(E):void 0;let St,wt;h?St=e(Q,q,yt):(wt=new he,St=wt.run(()=>e(Q,q,yt)));const Kt=u[A]=new Xr(St,wt,Q,q,yt,w);return a.$transition&&_s(Kt.nodes,a.$transition),d&&L(Kt.nodes,d,R),Kt},z=({itemRef:C,keyRef:A,indexRef:R},Z,at,E)=>{Z!==C.value&&(C.value=Z),A&&at!==void 0&&at!==A.value&&(A.value=at),R&&E!==void 0&&E!==R.value&&(R.value=E)},Y=(C,A=!0,R=!0)=>{if(h||C.scope.stop(),A&&ot(C.nodes,d),R)for(const Z of p)Z.deregister(C.key)};return s&4?T():ut(T),r&&L(a,r,o),a};function re(t,e,n){const{prev:s,next:i}=t;s&&(s.next=i),i&&(i.prev=s,t.prevAnchor!==t&&(i.prevAnchor=t.prevAnchor)),e&&(e.next=t),n&&(n.prev=t),t.prev=e,t.next=n,t.prevAnchor=t}function Zr(t){let e=t,n=!1,s=!1,i;if(m(t))nn(t)&&(n=!ft(t),e=Ae(t),s=ct(t));else if(j(t))e=t.split("");else if(typeof t=="number"){e=new Array(t);for(let r=0;r<t;r++)e[r]=r+1}else if(X(t))if(t[Symbol.iterator])e=Array.from(t);else{i=Object.keys(t),e=new Array(i.length);for(let r=0,o=i.length;r<o;r++)e[r]=t[i[r]]}return{values:e,needsWrap:n,isReadonlySource:s,keys:i}}function Bt({keys:t,values:e,needsWrap:n,isReadonlySource:s},i){const r=n?s?Ht(tt(e[i])):tt(e[i]):e[i];return t?[r,t[i],i]:[r,i,void 0]}function At(t){return t instanceof Node?t:m(t)?At(t[0]):bt(t)?At(t.block):At(t.nodes)}function Qr(t,e,n,s,i){const r=Et,o=_t;Zt();const c=new Ce;return ut(()=>{const u=t(),d=g&&g.appContext||ln;c.update(()=>Hr(u)?u:Vr(Di(u),e,n,s,i,d),u)}),r&&L(c,r,o),c}const dn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},kr=lt("<li data-v-ce075d23> "),to=lt("<ul data-v-ce075d23 class=tabs><div data-v-ce075d23 class=logout> Logout ",!0);ls("click");const eo={__name:"Tabs",props:{tabs:{type:Array,required:!0},currentTab:{type:Object,required:!0}},__vapor:!0,setup(t,{emit:e}){const n=async()=>{await fetch("/",{headers:{Authorization:"Basic logout"}}),window.location.reload()},s=to(),i=B(s,1);return It(s,0),Qe(()=>t.tabs,r=>{const o=kr(),c=Mt(o);return o.$evtclick=zt(()=>e("select",r.value)),ut(()=>fn(o,{active:r.value.name==t.currentTab.name})),rt(c,G(r.value.name)),o},r=>r.name),i.$evtclick=zt(n),s}},no=dn(eo,[["__scopeId","data-v-ce075d23"]]),so=lt("<div><h1>Overview Stats</h1> <p><b>Uptime:</b> </p><p><b>Disk:</b> </p><p><b>Memory:</b> ",!0),io={__name:"Overview",__vapor:!0,setup(t){const e=Xn({uptime:"Loading...",disk:"Loading...",memory:"Loading..."}),n=p=>p.replace("up ",""),s=p=>{const T=p.split(/\s+/);return T.length>4?`${T[4]} (${T[2]} / ${T[1]})`:p},i=p=>{const T=p.split(/\s+/);return T.length>2?`${T[2]} / ${T[1]}`:p},r=async()=>{const T=await(await fetch("/api/stats")).json();e.value=T};r();let o=setInterval(r,3e3);is(()=>clearInterval(o));const c=so(),f=N(B(c),1),u=N(f,2),d=N(B(u),1),l=N(u,3),a=N(B(l),1),h=N(B(N(l,4)),1);return ut(()=>{const p=e.value;rt(f," "+G(p.value)+" "),rt(d," "+G(n(p.uptime))),rt(a," "+G(s(p.disk))),rt(h," "+G(i(p.memory)))}),c}},ro=lt("<p data-v-7bdc0e15><b data-v-7bdc0e15> </b> "),oo=lt("<button data-v-7bdc0e15> Stop "),co=lt("<button data-v-7bdc0e15> Start "),fo=lt("<div data-v-7bdc0e15><div data-v-7bdc0e15><strong data-v-7bdc0e15> </strong> | <span data-v-7bdc0e15> </div><details data-v-7bdc0e15><summary data-v-7bdc0e15>Details</summary><div data-v-7bdc0e15></details><div data-v-7bdc0e15></div><hr data-v-7bdc0e15>"),uo=lt("<div data-v-7bdc0e15><h1 data-v-7bdc0e15>Containers</h1><!><button data-v-7bdc0e15>Prune System",!0);ls("click");const lo={__name:"Containers",__vapor:!0,setup(t){const e=Xn([]),n=async()=>{const u=await fetch("/api/containers");e.value=await u.json()},s=async(u,d)=>{d==="stop"&&!confirm("You want to stop container?")||(await fetch("/api/action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:u,action:d})}),n())},i=async()=>{confirm("Clear system?")&&(await fetch("/api/prune",{method:"POST"}),alert("System pruned"),n())};n();let r=setInterval(n,3e3);is(()=>clearInterval(r));const o=uo(),c=N(B(o),1),f=N(c,2);return It(o,c),Qe(()=>e.value,u=>{const d=fo(),l=B(d),a=B(l),P=on(l,2,2),h=N(l,1),p=N(B(h),1),T=N(h,2);It(p,null),Qe(()=>u.value,(y,z)=>{const Y=ro(),C=B(Y),A=N(C,1),R=Mt(C);return ut(()=>{rt(R,G(z.value)+":"),rt(A," "+G(y.value))}),Y},(y,z)=>z,1),It(T,null),Gr(()=>u.value.State=="running",()=>{const y=oo();return y.$evtclick=zt(()=>s(u.value.ID,"stop")),y},()=>{const y=co();return y.$evtclick=zt(()=>s(u.value.ID,"start")),y});const J=Mt(a),et=Mt(P);return ut(()=>{const y=u.value;rt(J,G(y.Names)),fn(P,y.State=="running"?"running":"stopped"),rt(et,G(y.Status))}),d},u=>u.ID),f.$evtclick=zt(i),o}},ao=dn(lo,[["__scopeId","data-v-7bdc0e15"]]),po=lt("<div data-v-83bfdb70><div data-v-83bfdb70 class=conteiner>",!0),ho={__name:"App",__vapor:!0,setup(t){const e=[{name:"Stats",component:io},{name:"Containers",component:ao}],n=ce(e[0]),s=po(),i=B(s,1);It(s,0);const r=o=>n.value=o;return un(no,{tabs:()=>e,currentTab:()=>n.value,onSelect:()=>r}),It(i,null),Qr(()=>n.value.component),s}},go=dn(ho,[["__scopeId","data-v-83bfdb70"]]);qr(go).mount("#app");</script>
    <style rel="stylesheet" crossorigin>:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#f9f9f9;background-color:#121212;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;min-height:100vh;width:100%;overflow-y:scroll}h1{font-size:28px;margin-top:0}h2{font-size:20px}button{border-radius:14px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .2s;outline:none}button:hover{border-color:#646cff}summary{margin-bottom:8px;margin-top:8px;cursor:pointer}#app{max-width:1280px;margin:0 auto;padding:32px}@media(max-width:768px){#app{padding:16px}}@media(prefers-color-scheme:light){:root{color:#213547;background-color:#f0f0f0}a:hover{color:#747bff}button{background-color:#f9f9f9}}.tabs[data-v-ce075d23]{display:flex;list-style:none;padding:0;margin:0 0 0 14px}.tabs li[data-v-ce075d23]{padding:10px 20px;cursor:pointer;background-color:#181818;color:#aaa;transition:all .3s ease;border-radius:14px 14px 0 0}.tabs li.active[data-v-ce075d23]{color:#fff;background-color:#242424}.tabs li[data-v-ce075d23]:hover{color:#fff}@media(prefers-color-scheme:light){.tabs li[data-v-ce075d23]{background-color:#f6f6f6;color:#555}.tabs li.active[data-v-ce075d23]{background-color:#fff;color:#000}.tabs li[data-v-ce075d23]:hover{color:#000}}.logout[data-v-ce075d23]{margin-left:auto;padding:10px 20px;cursor:pointer;color:#aaa;transition:color .3s ease}.logout[data-v-ce075d23]:hover{color:#f44}@media(prefers-color-scheme:light){.logout[data-v-ce075d23]{color:#555}}.running[data-v-7bdc0e15]{background-color:#155724;color:#d4edda;border-radius:4px}.stopped[data-v-7bdc0e15]{background-color:#721c24;color:#f8d7da;border-radius:8px}@media(prefers-color-scheme:light){.running[data-v-7bdc0e15]{background-color:#c3e6cb;color:#155724}.stopped[data-v-7bdc0e15]{background-color:#f5c6cb;color:#721c24}}.conteiner[data-v-83bfdb70]{padding:32px 40px 20px;border-radius:16px;overflow:hidden;background-color:#242424}@media(prefers-color-scheme:light){.conteiner[data-v-83bfdb70]{background-color:#fff}}@media(max-width:768px){.conteiner[data-v-83bfdb70]{padding:16px}}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
"""

def run_cmd(c):
    try:
        return subprocess.run(c, shell=True, capture_output=True, text=True, timeout=5).stdout.strip()
    except: return ""

def verify_password(u, p):
    try:
        with open('/etc/shadow', 'r') as f:
            for line in f:
                parts = line.split(':')
                if parts[0] == u:
                    h = parts[1]
                    if '$' not in h: return False
                    algo, salt = h.split('$')[1:3]
                    cmd = ['openssl', 'passwd', f'-{algo}', '-salt', salt, '-stdin']
                    res = subprocess.run(cmd, input=p, capture_output=True, text=True)
                    return res.stdout.strip() == h
        return False
    except: return False

def check_auth(headers):
    auth = headers.get('Authorization', '')
    if not auth.startswith('Basic '): return False
    try:
        dec = base64.b64decode(auth.split()[1]).decode()
        u, p = dec.split(':', 1)
        return verify_password(u, p)
    except: return False

def api_stats():
    return {
        "uptime": run_cmd("uptime"),
        "disk":   run_cmd("df -h / | tail -n 1"),
        "memory": run_cmd("free -h | grep Mem"),
        # "cpu":    run_cmd("top -b -n 1 | head -n 5")
    }

def api_containers():
    raw = run_cmd("docker ps -a --format '{{json .}}'")
    return [json.loads(l) for l in raw.splitlines() if l]

def api_action(b):
    cid, act = b.get('id'), b.get('action')
    if act in ['start', 'stop'] and cid and re.match(r'^[\w-]+$', cid):
        run_cmd(f"docker {act} {cid}")
        return {"status": "ok", "action": act}
    return {"error": "Invalid action"}

def api_prune(b):
    run_cmd("docker system prune -a -f")
    return {"status": "pruned"}

GET_ROUTES = {'/api/stats': api_stats, '/api/containers': api_containers}
POST_ROUTES = {'/api/action': api_action, '/api/prune': api_prune}

class AdminHandler(http.server.SimpleHTTPRequestHandler):
    def end_headers(self):
        # self.send_header('Access-Control-Allow-Origin', '*')
        self.send_header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS')
        self.send_header('Access-Control-Allow-Headers', 'Authorization, Content-Type')
        super().end_headers()

    def do_OPTIONS(self):
        self.send_response(200); self.end_headers()

    def send_json(self, d, c=200):
        self.send_response(c)
        self.send_header('Content-type', 'application/json')
        self.end_headers()
        self.wfile.write(json.dumps(d).encode())

    def do_AUTH(self):
        self.send_response(401)
        self.send_header('WWW-Authenticate', 'Basic realm="System Login"')
        self.end_headers()
        self.wfile.write(b'Unauthorized')

    def do_GET(self):
        if not check_auth(self.headers): return self.do_AUTH()

        if self.path == '/':
            self.send_response(200)
            self.send_header('Content-type', 'text/html; charset=utf-8')
            self.end_headers()
            self.wfile.write(HTML_PAGE.encode('utf-8'))
        elif h := GET_ROUTES.get(self.path):
            self.send_json(h())
        else:
            self.send_error(404)

    def do_POST(self):
        if not check_auth(self.headers): return self.do_AUTH()
        
        l = int(self.headers.get('content-length', 0))
        b = json.loads(self.rfile.read(l)) if l > 0 else {}
        
        if h := POST_ROUTES.get(self.path):
            self.send_json(h(b))
        else:
            self.send_error(404)

# Run server
if __name__ == '__main__':
    if os.geteuid() != 0: sys.exit("Run with sudo")
    
    socketserver.TCPServer.allow_reuse_address = True
    
    print(f"Started on port {PORT}")
    try:
        with socketserver.TCPServer(('0.0.0.0', PORT), AdminHandler) as httpd:
            httpd.serve_forever()
    except KeyboardInterrupt:
        print("\nServer stopped")